<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Every little helps</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-04-18T17:47:29.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>joash</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>shell总结</title>
    <link href="http://yoursite.com/2017/04/19/Linux/linux_shell/"/>
    <id>http://yoursite.com/2017/04/19/Linux/linux_shell/</id>
    <published>2017-04-19T04:00:00.000Z</published>
    <updated>2017-04-18T17:47:29.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="查看当前用户"><a href="#查看当前用户" class="headerlink" title="查看当前用户"></a>查看当前用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">whoami</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示系统的所有shell"><a href="#显示系统的所有shell" class="headerlink" title="显示系统的所有shell"></a>显示系统的所有shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ cat /etc/shells</div><div class="line"></div><div class="line">/bin/sh</div><div class="line">/bin/bash</div><div class="line">/sbin/nologin</div><div class="line">/usr/bin/sh</div><div class="line">/usr/bin/bash</div><div class="line">/usr/sbin/nologin</div><div class="line">/bin/tcsh</div><div class="line">/bin/csh</div><div class="line"></div><div class="line">切换：直接敲shell的名称</div></pre></td></tr></table></figure>
<hr>
<h3 id="输出当前shell-ID"><a href="#输出当前shell-ID" class="headerlink" title="输出当前shell ID"></a>输出当前shell ID</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">echo $$</div></pre></td></tr></table></figure>
<hr>
<h3 id="隔开同一行敲的多个命令"><a href="#隔开同一行敲的多个命令" class="headerlink" title="隔开同一行敲的多个命令"></a>隔开同一行敲的多个命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">;</div></pre></td></tr></table></figure>
<hr>
<h3 id="另起一行"><a href="#另起一行" class="headerlink" title="另起一行"></a>另起一行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\</div></pre></td></tr></table></figure>
<hr>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>变量名=值</p>
<ol>
<li>变量名不能以数字开头</li>
<li>等号两边不能有空格</li>
<li>值用双引号引起来</li>
<li>定义变量时不加$，引用时需要加$</li>
<li>在终端敲该命令，所得的变量是当前shell的变量</li>
<li>单引号引用的变量不会被解析</li>
<li>这样定义是本地变量，不会影响到子shell</li>
</ol>
<hr>
<h3 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a>变量定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">declare -x dd=12 / export yy=10</div><div class="line">	定义环境变量</div><div class="line">	可以影响到所有子shell</div><div class="line"></div><div class="line">declare +x dd</div><div class="line">	将环境变量变成本地变量</div><div class="line"></div><div class="line">declare -r dd （readonly dd）</div><div class="line">	将变量设为只读</div><div class="line"></div><div class="line">declare -i aa #定义整型，目的是可以做数值运算，默认情况下会直接输出</div><div class="line">let bb=1+8 		同上</div><div class="line">cc=((1+1)) 		同上</div></pre></td></tr></table></figure>
<hr>
<h3 id="输出变量"><a href="#输出变量" class="headerlink" title="输出变量"></a>输出变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">echo 		</div><div class="line">	-n 	输出不换行</div><div class="line">	-e 	解析 \n 等字符</div><div class="line"></div><div class="line">\a 发出警告声；</div><div class="line">\b 删除前一个字符；</div><div class="line">\c 最后不加上换行符号；</div><div class="line">\f 换行但光标仍旧停留在原来的位置；</div><div class="line">\n 换行且光标移至行首；</div><div class="line">\r 光标移至行首，但不换行；</div><div class="line">\t 插入tab；</div><div class="line">\v 与\f相同；</div><div class="line">\\ 插入\字符；</div><div class="line">\nnn 插入nnn（八进制）所代表的ASCII字符；</div></pre></td></tr></table></figure>
<hr>
<h3 id="取消变量"><a href="#取消变量" class="headerlink" title="取消变量"></a>取消变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">unset</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示设置变量"><a href="#显示设置变量" class="headerlink" title="显示设置变量"></a>显示设置变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">set 		显示所有变量</div><div class="line">set 1 2 3 4 5  设置参数</div><div class="line"></div><div class="line">env 		显示所有环境变量</div><div class="line">export 		显示所有环境变量</div><div class="line">export -p	显示所有环境变量</div></pre></td></tr></table></figure>
<hr>
<h3 id="方法参数取值"><a href="#方法参数取值" class="headerlink" title="方法参数取值"></a>方法参数取值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$0    文件的名字</div><div class="line">$#    参数的个数</div><div class="line">$&#123;12&#125; 文件的第12个参数</div><div class="line">$*    所有的参数</div><div class="line">$? 记录上面的命令是否执行成功，0表示失败，非0表示成功</div></pre></td></tr></table></figure>
<hr>
<h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$PATH</div><div class="line">$HOME 	家目录</div><div class="line">$USER 	当前登录用户</div><div class="line">$PS1 	提示符 export PS1=&quot;\[\e[36m\][\u@\h \W]\$\[\e[m\] &quot;</div><div class="line">$LAGN 	系统当前编码</div><div class="line">$REPLY 	read默认赋予的变量</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看系统所支持的所有编码"><a href="#查看系统所支持的所有编码" class="headerlink" title="查看系统所支持的所有编码"></a>查看系统所支持的所有编码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">locale -a</div></pre></td></tr></table></figure>
<hr>
<h3 id="读取输入值"><a href="#读取输入值" class="headerlink" title="读取输入值"></a>读取输入值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">read -p &quot;pleace input word:&quot; name</div><div class="line">	相当于先输出再读取变量</div></pre></td></tr></table></figure>
<hr>
<h3 id="数组操作"><a href="#数组操作" class="headerlink" title="数组操作"></a>数组操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">xx=(aa bb cc dd) 		赋值</div><div class="line">echo $&#123;xx[0]&#125; 			取值第一个元素</div><div class="line">echo $&#123;xx[*]&#125;  			取所有		</div><div class="line">echo $&#123;xx[@]&#125; 			取所有</div><div class="line">echo $&#123;!xx[@]&#125; 			查看所有下标</div><div class="line">echo $&#123;#xx[@]&#125;			查看元素个数</div></pre></td></tr></table></figure>
<hr>
<h3 id="字符串中执行命令"><a href="#字符串中执行命令" class="headerlink" title="字符串中执行命令"></a>字符串中执行命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(hostname) 或者`hostname`</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看系统限制"><a href="#查看系统限制" class="headerlink" title="查看系统限制"></a>查看系统限制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">ulimit -a</div><div class="line">	</div><div class="line"></div><div class="line">core file size          (blocks, -c) 0</div><div class="line">data seg size           (kbytes, -d) unlimited</div><div class="line">scheduling priority             (-e) 0</div><div class="line">file size               (blocks, -f) unlimited</div><div class="line">pending signals                 (-i) 7866</div><div class="line">max locked memory       (kbytes, -l) 64</div><div class="line">max memory size         (kbytes, -m) unlimited</div><div class="line">open files                      (-n) 1024</div><div class="line">pipe size            (512 bytes, -p) 8</div><div class="line">POSIX message queues     (bytes, -q) 819200</div><div class="line">real-time priority              (-r) 0</div><div class="line">stack size              (kbytes, -s) 8192</div><div class="line">cpu time               (seconds, -t) unlimited</div><div class="line">max user processes              (-u) 4096</div><div class="line">virtual memory          (kbytes, -v) unlimited</div><div class="line">file locks                      (-x) unlimited</div></pre></td></tr></table></figure>
<hr>
<h3 id="前后截断字符串"><a href="#前后截断字符串" class="headerlink" title="前后截断字符串"></a>前后截断字符串</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">r=$&#123;path#*kkk/bin&#125;</div><div class="line">	删除path变量中的按 *kkk/bin 匹配的前面的字符串，然后赋值给r（第一个匹配开始处理）</div><div class="line">r=$&#123;path##*kkk/bin&#125;</div><div class="line">	删除path变量中的按 *kkk/bin 匹配的前面的字符串，然后赋值给r（最后一个匹配开始处理）</div><div class="line"></div><div class="line">#删除前面的字符串，%删除后面的字符串</div></pre></td></tr></table></figure>
<hr>
<h3 id="赋值检查"><a href="#赋值检查" class="headerlink" title="赋值检查"></a>赋值检查</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">r=$&#123;xx-&quot;hello&quot;&#125; 		如果变量xx存在就将xx值赋予r否则将hello赋值给r</div><div class="line">r=$&#123;xx:-&quot;hello&quot;&#125; 		在上面的基础上还要判断是否为空</div><div class="line">r=$&#123;xx:=&quot;hello&quot;&#125; 		在上面的基础上将字符串赋值给xx</div><div class="line">r=$&#123;xx:?&quot;error&quot;&#125;  		检查xx是否为空，如果是空的话显示？后面定义的字符串警告信息</div><div class="line">r=$&#123;xx:+&quot;hello&quot;&#125;  		如果xx非空将后面的字符串赋值给r</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看命令执行顺序"><a href="#查看命令执行顺序" class="headerlink" title="查看命令执行顺序"></a>查看命令执行顺序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">type -a ls 	# 查看命令执行顺序</div><div class="line"></div><div class="line">type source  查看source是否是shell内置命令，如果是的话which查不出来</div></pre></td></tr></table></figure>
<hr>
<h3 id="登录时读取配置文件顺序"><a href="#登录时读取配置文件顺序" class="headerlink" title="登录时读取配置文件顺序"></a>登录时读取配置文件顺序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/etc/profile 	环境变量</div><div class="line">/etc/inputrc 	快捷键</div><div class="line">~/.bash_profile</div></pre></td></tr></table></figure>
<hr>
<h3 id="set排错"><a href="#set排错" class="headerlink" title="set排错"></a>set排错</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">set -u 	开启当所用到的变量没有被设置时就会报错</div><div class="line">	+u 	关闭</div><div class="line">	-x 	追踪每一个操作，排错时候使用</div><div class="line">	+x 	关闭</div></pre></td></tr></table></figure>
<hr>
<h3 id="文件重定向"><a href="#文件重定向" class="headerlink" title="文件重定向"></a>文件重定向</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">1&gt;</div><div class="line"></div><div class="line">ls -a &gt; a.txt 		文件重定向(清空)</div><div class="line">ls -a &gt;&gt; a.txt 		文件重定向(追加)  </div><div class="line">xx 2&gt; a.txt			只重定向错误的结果</div><div class="line">xx &amp;&gt;&gt; a.txt 		不管正确还是错误全部都追加</div><div class="line"></div><div class="line">xx &gt; a.txt 2&gt;&amp;1 	错误的结果像正确的一样导入</div><div class="line"></div><div class="line"></div><div class="line">2&gt;</div><div class="line"></div><div class="line">$ cat &gt; filename &lt;&lt;EOF</div><div class="line">&gt; nihao</div><div class="line">&gt; $HOME</div><div class="line">&gt; $PATH</div><div class="line">&gt; EOF</div><div class="line">$ cat filename </div><div class="line">nihao</div><div class="line">/home/mjs</div><div class="line">/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/jdk8/bin:/opt/redis/redis-2.8.24/src:/home/mjs/.local/bin:/home/mjs/bin</div></pre></td></tr></table></figure>
<hr>
<h3 id="文本替换"><a href="#文本替换" class="headerlink" title="文本替换"></a>文本替换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tr &apos;a-z&apos; &apos;A-Z&apos; &lt; hosts</div><div class="line">		将hosts文件中的字母从小写转为大写并输出到屏幕</div></pre></td></tr></table></figure>
<hr>
<h3 id="搜索文件中的内容"><a href="#搜索文件中的内容" class="headerlink" title="搜索文件中的内容"></a>搜索文件中的内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">grep		</div><div class="line">	-i	不区分大小写</div><div class="line">	--color 颜色高亮</div><div class="line">	-n 出现在第几行</div><div class="line">	-v 反向过滤，不显示选中的结果，^表示开头</div><div class="line">	-A3 过滤选中行，并向下延伸3行</div><div class="line">	-B3 过滤选中行，并向上延伸3行</div><div class="line">	-q 不显示结果</div></pre></td></tr></table></figure>
<hr>
<h3 id="文件内容追加"><a href="#文件内容追加" class="headerlink" title="文件内容追加"></a>文件内容追加</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">tee -a xx</div><div class="line">	可追加到xx文件中</div><div class="line"></div><div class="line">cut xx | tee xx | grep aa # tee的作用是将输出信息保存在xx文件中</div></pre></td></tr></table></figure>
<hr>
<h3 id="切分文本"><a href="#切分文本" class="headerlink" title="切分文本"></a>切分文本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">1&gt; </div><div class="line"></div><div class="line">cut -d: -f1 /etc/passwd</div><div class="line">	-d：分隔符</div><div class="line">	-f：查看第几部分</div><div class="line"></div><div class="line"></div><div class="line">2&gt;</div><div class="line"></div><div class="line">split -b 10k /etc/services xxx 	将services文件以每块10k前缀为xxx进行切分</div><div class="line">      -l 100 以每100行一个文件的粒度切分</div><div class="line"></div><div class="line"></div><div class="line">3&gt;</div><div class="line"></div><div class="line">awt -F: &apos;&#123;print $1&#125;&apos; xx 	以:为切分附（默认是空格）将xx文件切分，然后取第一部分。0表示整行记录</div><div class="line"></div><div class="line">&apos;&#123;print NR, $1, NF&#125;&apos; 		NR添加行号，NF是显示该行有几个字段</div><div class="line"></div><div class="line">awt -F: &apos;$3&lt;=1 &#123;print $1&#125;&apos; xx 		前面 $3&lt;=1 是条件</div><div class="line"></div><div class="line">awk -F: &apos;BEGIN&#123;OFS=&quot;\t\t&quot;; ORS=&quot;\n\n&quot;&#125;&#123;print $1 $2&#125;&apos; xx</div><div class="line">					OFS表示每一部分是用什么分隔符（tab键），ORS表示每行之间使用什么分隔符</div></pre></td></tr></table></figure>
<hr>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">sort </div><div class="line">	-n 	以数字的形式排序</div><div class="line">	-r 	反向排序</div><div class="line">	</div><div class="line">sort -t: -k3 -n passwd 		以切分出来的第三部分来排序整行</div><div class="line">	-t：分隔符</div><div class="line">	-k：第几部分</div><div class="line">	-u：排除重复（与通过管道传给 uniq 命令等效，该命令 -c 参数可以统计每个单词出现几次）</div></pre></td></tr></table></figure>
<hr>
<h3 id="统计字符"><a href="#统计字符" class="headerlink" title="统计字符"></a>统计字符</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">wc 统计字符</div><div class="line">	-l 查看几行</div><div class="line">	-w 几个单词</div><div class="line">	-c 几个字符</div><div class="line"></div><div class="line">wc ProducerCustomer.java </div><div class="line">	</div><div class="line">	85  183 1720 ProducerCustomer.java</div><div class="line"></div><div class="line">	85：行数</div><div class="line">	183：单词数</div><div class="line">	1720：字符数</div></pre></td></tr></table></figure>
<hr>
<h3 id="将Tab键转化为空格"><a href="#将Tab键转化为空格" class="headerlink" title="将Tab键转化为空格"></a>将Tab键转化为空格</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">col -x 和 expand</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看两个文件异同"><a href="#查看两个文件异同" class="headerlink" title="查看两个文件异同"></a>查看两个文件异同</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">diff</div></pre></td></tr></table></figure>
<hr>
<h3 id="不能使用管道的命令使用管道"><a href="#不能使用管道的命令使用管道" class="headerlink" title="不能使用管道的命令使用管道"></a>不能使用管道的命令使用管道</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">xargs</div><div class="line"></div><div class="line">	find ./  -name *.sh | xargs ls -l</div></pre></td></tr></table></figure>
<hr>
<h3 id="sed文本操作"><a href="#sed文本操作" class="headerlink" title="sed文本操作"></a>sed文本操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">sed &apos;1,2d&apos; hosts 		删除前两行</div><div class="line">	-i 		直接修改文件，默认是输出到控制台</div><div class="line">	-e 		同时可以做多个操作，一个操作写一个-e</div><div class="line">	-f 		调用文件中的内容</div><div class="line"></div><div class="line">sed &apos;$d&apos; hosts  		删除最后一行</div><div class="line"></div><div class="line">sed &apos;s/root/ROOT/g&apos; xx 		将root转换为ROOT</div><div class="line"></div><div class="line">sed &apos;/adm/ixxxxxxxxxxxxxx&apos; xx 			在adm的上一行添加xxxxxxxxxxxxxx</div><div class="line"></div><div class="line">sed &apos;/adm/axxxxxxxxxxxxxx&apos; xx 			在adm的下一行添加xxxxxxxxxxxxxx</div><div class="line"></div><div class="line">sed &apos;/adm/cxxxxxxxxxxxxxx&apos; xx 			将adm行换掉xxxxxxxxxxxxxx</div></pre></td></tr></table></figure>
<hr>
<h3 id="运行shell"><a href="#运行shell" class="headerlink" title="运行shell"></a>运行shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">./xx.sh 		开启子shell运行</div><div class="line">bash xx.sh 		开启子shell运行</div><div class="line">source xx.sh 	当前shell下运行</div></pre></td></tr></table></figure>
<hr>
<h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">            数字            字符</div><div class="line">等于        -eq              ==</div><div class="line">不等于 		-ne 			 !=</div><div class="line">大于        -gt              &gt;</div><div class="line">大于等于    -ge              &gt;=</div><div class="line">小于        -lt              &lt;</div><div class="line">小于等于    -le              &lt;=</div></pre></td></tr></table></figure>
<hr>
<h3 id="文件判断"><a href="#文件判断" class="headerlink" title="文件判断"></a>文件判断</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[ -f /etc/passwd ]   #判断文件是否存在（存在返回0）</div><div class="line">[ -r /etc/passwd ]   #判断文件是否有读权限</div><div class="line">[ -w /etc/passwd ]   #判断文件是否有写权限</div><div class="line">[ -x /etc/passwd ]   #判断文件是否有执行权限</div></pre></td></tr></table></figure>
<hr>
<h3 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">if  [ &quot;$?&quot; -eq 0 ]; then</div><div class="line">	echo &quot;$1 存在&quot;</div><div class="line">elif  []; then</div><div class="line">else</div><div class="line">	echo &quot;$1 不存在&quot;</div><div class="line">fi</div></pre></td></tr></table></figure>
<hr>
<h3 id="case语句"><a href="#case语句" class="headerlink" title="case语句"></a>case语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">case</div><div class="line"></div><div class="line">case $1 in</div><div class="line">		[Tt]o*)</div><div class="line">			echo tom</div><div class="line">			;;</div><div class="line">		bob | mary )</div><div class="line">			echo xxx</div><div class="line">			;;</div><div class="line">		*)</div><div class="line">			echo zzz</div><div class="line">			;;</div><div class="line">esac</div></pre></td></tr></table></figure>
<hr>
<h3 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function xx ()&#123;</div><div class="line">	echo &quot;hello&quot;</div><div class="line">&#125;</div><div class="line"></div><div class="line">xx ()&#123;</div><div class="line">	echo &quot;hello&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">while []</div><div class="line">do</div><div class="line">	$xx</div><div class="line">done</div><div class="line"></div><div class="line">until与while相反，一开始不满足，直到满足之后就会跳出循环</div></pre></td></tr></table></figure>
<hr>
<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for xx in aa,bb cc</div><div class="line">do </div><div class="line">done</div></pre></td></tr></table></figure>
<hr>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;查看当前用户&quot;&gt;&lt;a href=&quot;#查看当前用户&quot; class=&quot;headerlink&quot; title=&quot;查看当前用户&quot;&gt;&lt;/a&gt;查看当前用户&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gut
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux常用命令</title>
    <link href="http://yoursite.com/2017/04/18/Linux/linux_note/"/>
    <id>http://yoursite.com/2017/04/18/Linux/linux_note/</id>
    <published>2017-04-18T04:00:00.000Z</published>
    <updated>2017-04-17T19:52:20.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="计算器"><a href="#计算器" class="headerlink" title="计算器"></a>计算器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">bc</div><div class="line">	-scale=10	保留10位数</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示日历"><a href="#显示日历" class="headerlink" title="显示日历"></a>显示日历</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cal</div><div class="line">	2016	一年的日历</div><div class="line">	12 2016	某月的日历</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示时间"><a href="#显示时间" class="headerlink" title="显示时间"></a>显示时间</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">date</div><div class="line">	+%Y</div></pre></td></tr></table></figure>
<hr>
<h3 id="列出文件信息"><a href="#列出文件信息" class="headerlink" title="列出文件信息"></a>列出文件信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ls				显示文件(list)</div><div class="line">	-a	显示所有文件</div><div class="line">	-l	显示文件详细信息</div><div class="line">	-h	将占用的字节人性化显示</div><div class="line">	-d	显示目录信息</div><div class="line">	-i	显示 inode ID</div><div class="line">	-s 	显示大小</div><div class="line">	-1 	一行行显示</div><div class="line"></div><div class="line">	--time=atime 	显示访问时间</div><div class="line">	--time=ctime 	显示创建时间</div><div class="line">	-R 	递归显示</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看历史命令"><a href="#查看历史命令" class="headerlink" title="查看历史命令"></a>查看历史命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">history</div><div class="line">	!numner	执行历史命令</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看命令简短信息"><a href="#查看命令简短信息" class="headerlink" title="查看命令简短信息"></a>查看命令简短信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">whatis</div></pre></td></tr></table></figure>
<hr>
<h3 id="生成whatis库"><a href="#生成whatis库" class="headerlink" title="生成whatis库"></a>生成whatis库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">makewhatis</div></pre></td></tr></table></figure>
<hr>
<h3 id="查找命令的目录及帮助文档的目录"><a href="#查找命令的目录及帮助文档的目录" class="headerlink" title="查找命令的目录及帮助文档的目录"></a>查找命令的目录及帮助文档的目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">whereis</div><div class="line">	-b 		只显示二进制文件</div><div class="line">	-m 		显示帮助文档</div></pre></td></tr></table></figure>
<hr>
<h3 id="查找命令所在的路径及有无别名"><a href="#查找命令所在的路径及有无别名" class="headerlink" title="查找命令所在的路径及有无别名"></a>查找命令所在的路径及有无别名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">which</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看配置文件简短信息"><a href="#查看配置文件简短信息" class="headerlink" title="查看配置文件简短信息"></a>查看配置文件简短信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apropos</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看命令帮助"><a href="#查看命令帮助" class="headerlink" title="查看命令帮助"></a>查看命令帮助</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">man</div><div class="line">	/search</div><div class="line">		n/N  查找</div><div class="line">		^search  开头</div></pre></td></tr></table></figure>
<hr>
<h3 id="将缓存中的内容写到磁盘中去"><a href="#将缓存中的内容写到磁盘中去" class="headerlink" title="将缓存中的内容写到磁盘中去"></a>将缓存中的内容写到磁盘中去</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sync</div></pre></td></tr></table></figure>
<hr>
<h3 id="开关机"><a href="#开关机" class="headerlink" title="开关机"></a>开关机</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">shutdown </div><div class="line">		 -r now		重启	</div><div class="line">		 -k			显示通知信息不会真的关机</div><div class="line">		 -h 10 		10分钟后关机</div><div class="line">		 -h 8:20	到时间自己关机</div><div class="line"></div><div class="line">reboot		重启</div><div class="line">		-f	强制重启</div><div class="line"></div><div class="line">poweroff	关机</div><div class="line">		-f	强制关机</div></pre></td></tr></table></figure>
<hr>
<h3 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别"></a>运行级别</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">0　关机</div><div class="line">1　单用户</div><div class="line">2　不带网络的多用户</div><div class="line">3　带网络的多用户</div><div class="line">4　保留，用户可以自给定义</div><div class="line">5　图形界面的多用户</div><div class="line">6　重起系统</div><div class="line"></div><div class="line">runlevel  # 显示当前环境级别</div><div class="line"></div><div class="line">init number # 改变当前环境的级别</div></pre></td></tr></table></figure>
<hr>
<h3 id="图形文本界面互换"><a href="#图形文本界面互换" class="headerlink" title="图形文本界面互换"></a>图形文本界面互换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">multi-user.target 		第3运行级</div><div class="line">graphical.target 		第5运行级</div><div class="line"></div><div class="line">1，设置开机模式为：命令模式</div><div class="line">	systemctl set-default multi-user.target</div><div class="line">	ln -sf /lib/systemd/system/multi-user.target /etc/systemd/system/default.target</div><div class="line"></div><div class="line">2，设置开机模式为：图形模式</div><div class="line">	systemctl set-default graphical.target</div><div class="line">	ln -sf /lib/systemd/system/graphical.target /etc/systemd/system/default.target</div><div class="line"></div><div class="line">startx	# 开启xwindow</div></pre></td></tr></table></figure>
<hr>
<h3 id="文件类型"><a href="#文件类型" class="headerlink" title="文件类型"></a>文件类型</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">-	普通文件</div><div class="line">d 	文件夹</div><div class="line">b 	块设备（U盘）</div><div class="line">c 	字符型设备文件（鼠标）</div><div class="line">l 	快捷方式（软连接）</div></pre></td></tr></table></figure>
<hr>
<h3 id="修改权限"><a href="#修改权限" class="headerlink" title="修改权限"></a>修改权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">chmod [&#123;ugoa&#125;&#123;+-=&#125;&#123;rwx&#125;][文件或目录]</div><div class="line">	  [rwx=421][文件或目录]</div><div class="line"></div><div class="line">	  -R 	递归修改</div></pre></td></tr></table></figure>
<hr>
<h3 id="修改文件所有者"><a href="#修改文件所有者" class="headerlink" title="修改文件所有者"></a>修改文件所有者</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">chown -R root</div><div class="line">chown -R root[:.]root /aa 	# 修改文件所有者及所属组</div><div class="line"></div><div class="line">chgrp -R root /aa 			# 修改所属组</div></pre></td></tr></table></figure>
<hr>
<h3 id="文件访问权限说明"><a href="#文件访问权限说明" class="headerlink" title="文件访问权限说明"></a>文件访问权限说明</h3><ol>
<li>文件夹的 x 代表是否可以进入该文件夹，如果没有 x，即使有w，其他用户也不可操作该文件将夹下的文件</li>
<li>文件夹的 w 代表是否可以操作文件夹中的文件，当文件夹有 w 时，即使其他用户没有读该文件夹中文件的权限，该用户也可以删除文件</li>
<li>文件夹没有 r 时，其他用户可以进入该文件夹但是不能读取该文件夹中的文件，但是可以创建文件，操作文件</li>
</ol>
<hr>
<h3 id="查看文件类型"><a href="#查看文件类型" class="headerlink" title="查看文件类型"></a>查看文件类型</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">file filename</div></pre></td></tr></table></figure>
<hr>
<h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">/bin</div><div class="line">/sbin</div><div class="line">	相当于win32的作用</div><div class="line"></div><div class="line">/boot</div><div class="line">	主要存放启动Linux系统所必需的文件，包括内核文件、启动菜单配置文件等</div><div class="line"></div><div class="line">/dev</div><div class="line">	设备文件，字符设备，存储设备</div><div class="line"></div><div class="line">/etc </div><div class="line">	主要存放系统配置文件</div><div class="line">	</div><div class="line">/lib</div><div class="line">	主要存放一些库文件</div><div class="line">	</div><div class="line">/media 		自动挂载</div><div class="line">/mnt 		手动挂载</div><div class="line">	在某些Linux的发行版中用来挂载那些USB接口的移动硬盘（U盘）等</div><div class="line">	</div><div class="line">/opt</div><div class="line">	可以理解为安装可选程序的地方。安装源码包</div><div class="line"></div><div class="line">/proc</div><div class="line">	内核参数，不占用磁盘大小</div><div class="line"></div><div class="line">/root</div><div class="line">	根用户的家目录。里面存放根目录的数据、文件等。</div><div class="line">	</div><div class="line">/usr</div><div class="line">	主要存放安装的软件、系统共用的文件、内核源码等。</div><div class="line"></div><div class="line">/tmp</div><div class="line">	临时文件</div><div class="line"></div><div class="line">/var</div><div class="line">	缓存，日志，数据库文件</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看系统信息"><a href="#查看系统信息" class="headerlink" title="查看系统信息"></a>查看系统信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">uname</div><div class="line">	-i # 架构</div><div class="line">	-r # 内核</div><div class="line">	-a # 查看所有</div><div class="line"></div><div class="line">cat /etc/redhat-release # CentOS Linux release 7.1.1503 (Final)</div><div class="line"></div><div class="line">hostnamectl</div><div class="line">		status 			查看操作系统信息</div><div class="line">		--static		查看静态主机名</div><div class="line">		--transient 	查看瞬态主机名</div><div class="line">		--pretty 		查看灵活主机名</div><div class="line"></div><div class="line">hostname 	# 主机名</div></pre></td></tr></table></figure>
<hr>
<h3 id="创建目录"><a href="#创建目录" class="headerlink" title="创建目录"></a>创建目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir</div><div class="line">		-p	递归创建</div><div class="line">		-p small/&#123;bug,cat,hadoop&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="复制文件"><a href="#复制文件" class="headerlink" title="复制文件"></a>复制文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">cp	[item] resource target</div><div class="line">	-r	复制目录</div><div class="line">	-p	保留文件属性</div><div class="line">	-u  新文件覆盖旧文件（旧文件不会覆盖新文件）</div><div class="line">	-l  生成硬链接</div><div class="line">	-f 	强制</div><div class="line">	-a = -rfp</div><div class="line">	-d 	默认情况下拷贝链接会把原文件拷贝出来，可以加该参数拷贝链接</div></pre></td></tr></table></figure>
<hr>
<h3 id="创建软硬链接"><a href="#创建软硬链接" class="headerlink" title="创建软硬链接"></a>创建软硬链接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ln 	# 硬链接不能跨分区</div><div class="line">	-s	创建软连接</div></pre></td></tr></table></figure>
<hr>
<h3 id="移动和改名"><a href="#移动和改名" class="headerlink" title="移动和改名"></a>移动和改名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mv</div><div class="line">	-i	询问要不要删除（默认）</div><div class="line">	-r	递归</div><div class="line">	-f	强制</div></pre></td></tr></table></figure>
<hr>
<h3 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">alias ll # 显示别名</div><div class="line"></div><div class="line">alias ll=&apos;ls -lh --color=auto&apos; # 修改别名</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示文件名目录名"><a href="#显示文件名目录名" class="headerlink" title="显示文件名目录名"></a>显示文件名目录名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">basename 	# 只显示文件名</div><div class="line">dirname 	# 只显示目录名</div></pre></td></tr></table></figure>
<hr>
<h3 id="浏览小文件信息"><a href="#浏览小文件信息" class="headerlink" title="浏览小文件信息"></a>浏览小文件信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cat</div><div class="line">	-n	显示行号</div></pre></td></tr></table></figure>
<hr>
<h3 id="反向浏览文件"><a href="#反向浏览文件" class="headerlink" title="反向浏览文件"></a>反向浏览文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tac</div></pre></td></tr></table></figure>
<hr>
<h3 id="不算空行显示行号"><a href="#不算空行显示行号" class="headerlink" title="不算空行显示行号"></a>不算空行显示行号</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">nl</div><div class="line">	-d 	# 算空行显示行号</div></pre></td></tr></table></figure>
<hr>
<h3 id="浏览文件信息"><a href="#浏览文件信息" class="headerlink" title="浏览文件信息"></a>浏览文件信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">more</div><div class="line">	(空格)或f	翻页</div><div class="line">	(Enter)		换行</div><div class="line">	q或Q		退出</div></pre></td></tr></table></figure>
<hr>
<h3 id="浏览文件信息-1"><a href="#浏览文件信息-1" class="headerlink" title="浏览文件信息"></a>浏览文件信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">less</div><div class="line">	(空格)或f	翻页</div><div class="line">	(Enter)		换行</div><div class="line">	q或Q		退出</div><div class="line">	上箭头		向上翻一行</div><div class="line">	pgup		向上翻一页</div><div class="line">	/XXX		搜索</div><div class="line">	n			下一个搜索结果</div><div class="line">	-N 			显示行号</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示文件前几行"><a href="#显示文件前几行" class="headerlink" title="显示文件前几行"></a>显示文件前几行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">head</div><div class="line">	-5	显示前5行</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示文件后几行"><a href="#显示文件后几行" class="headerlink" title="显示文件后几行"></a>显示文件后几行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">tail</div><div class="line">	-n	显示后几行</div><div class="line">	-f	动态显示文件末尾内容（监视日志）或者 tailf</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看非文本文件"><a href="#查看非文本文件" class="headerlink" title="查看非文本文件"></a>查看非文本文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">od</div><div class="line">	-t c 	# 以ASCII码格式显示输出</div><div class="line"></div><div class="line">strings 	# 显示二进制文本文件</div></pre></td></tr></table></figure>
<hr>
<h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">rm</div><div class="line">	-r	删除目录</div><div class="line">	-f	强制删除</div><div class="line"></div><div class="line">rm -rf !(keep1 | keep2) 	# 删除keep1，keep2文件之外的文件</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示当前目录"><a href="#显示当前目录" class="headerlink" title="显示当前目录"></a>显示当前目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pwd</div></pre></td></tr></table></figure>
<hr>
<h3 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">touch &#123;a,b,c,d&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="权限过滤符"><a href="#权限过滤符" class="headerlink" title="权限过滤符"></a>权限过滤符</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">umask</div><div class="line">	文件权限 = 666 - umask</div><div class="line">	目录权限 = 777 - umask</div></pre></td></tr></table></figure>
<hr>
<h3 id="隐藏属性"><a href="#隐藏属性" class="headerlink" title="隐藏属性"></a>隐藏属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">lsattr		# 列出文件隐藏属性</div><div class="line">chattr		# 修改文件隐藏属性</div><div class="line">	+a （文件不可写，文件夹只可创建不可删除）</div><div class="line">	+i （文件夹中，不可添加也不可删除文件）</div><div class="line"></div><div class="line">SUID  	在命令所有者的位置上出现S代表其他人在执行该命令时具有所有者的权限</div><div class="line">		chmod u+s xx</div><div class="line">		chmod 4333 xx</div><div class="line"></div><div class="line">SGID 	如果一个文件夹的的所属组中出现了S，代表着之后在该文件夹下创建的文件都将会继承该文件夹的所属组</div><div class="line">		chmod g+s xx</div><div class="line">		chmod 2333 xx</div><div class="line"></div><div class="line">SBIT 	只出现在文件夹的其他人权限位，意思是除了root和所有者外其他人即使有权限也不能删除</div><div class="line">		chmod o+t xx</div><div class="line">		chmod 1333 xx</div></pre></td></tr></table></figure>
<hr>
<h3 id="在字符串中执行命令"><a href="#在字符串中执行命令" class="headerlink" title="在字符串中执行命令"></a>在字符串中执行命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">echo &quot;hostname is `hostname`&quot;		</div><div class="line">echo &quot;hostname is $(hostname)&quot;</div></pre></td></tr></table></figure>
<hr>
<h3 id="快速搜索"><a href="#快速搜索" class="headerlink" title="快速搜索"></a>快速搜索</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">locate 	# 每天跟新一次数据库，新创建的文件可能找不到</div><div class="line">		-i	不区分大小写</div><div class="line"></div><div class="line">updatedb 	# 更新资料库</div><div class="line">	/var/lib/mlocate/mlocate.db  	数据库位置</div></pre></td></tr></table></figure>
<hr>
<h3 id="查找文件"><a href="#查找文件" class="headerlink" title="查找文件"></a>查找文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">find path -option [argu] 		</div><div class="line"></div><div class="line">	-or 			或关联关系</div><div class="line">	-name			根据名称查找</div><div class="line">	-size +5M		根据大小查找</div><div class="line">	-size -5M -size +3M  	查找大于3M小于5M的文件</div><div class="line">	-user smallbug	根据所有者查找</div><div class="line">	-group			根据所属组查找</div><div class="line">	-ctime +1  		创建超过1天的文件</div><div class="line">	-cmin +1		创建时间超过一分钟</div><div class="line">	-amin			访问时间</div><div class="line">	-newer filename 查找比当前文件比较新的文件</div><div class="line">	-perm 222			根据权限查找（2 -&gt; o, 22 -&gt; go）</div><div class="line">			+222 		ugo只要有一个写权限就行</div><div class="line">			-222 		ugo必须都有写权限</div></pre></td></tr></table></figure>
<hr>
<h3 id="分区介绍"><a href="#分区介绍" class="headerlink" title="分区介绍"></a>分区介绍</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">1&gt; </div><div class="line">MBR-&gt;[分区]-&gt;[分区]</div><div class="line"></div><div class="line">MBR：引导程序(446) + 分区表(64) + 结束符(2)</div><div class="line"></div><div class="line">一个分区需要16字节</div><div class="line"></div><div class="line">2&gt; </div><div class="line">[分区]</div><div class="line"></div><div class="line">[block group]</div><div class="line">boot sector -&gt; &#123; </div><div class="line">				[super block-&gt;文件系统描述信息-&gt;块位图-&gt;inode位图-&gt;inode表-&gt;block],</div><div class="line">				[super block-&gt;文件系统描述信息-&gt;块位图-&gt;inode位图-&gt;inode表-&gt;block],</div><div class="line">				[super block-&gt;文件系统描述信息-&gt;块位图-&gt;inode位图-&gt;inode表-&gt;block]</div><div class="line">			&#125;</div><div class="line"></div><div class="line">super block : 记录inode和block信息，使用多少剩余多少</div><div class="line"></div><div class="line">文件系统描述信息 ：记录一个分区中的 block group 信息。</div><div class="line"></div><div class="line">块位图 ：记录block区域中哪些block使用了，哪些没使用。</div><div class="line"></div><div class="line">inode位图：同上</div><div class="line"></div><div class="line">inode表：记录文件存放在哪些block中(128/4只能指向32个block)</div><div class="line">	|--→直接区（12）</div><div class="line">	|--→间接区（1）</div><div class="line">	|--→二间接区（1）</div><div class="line">	|--→三间接区（1）</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看文件在哪些block中"><a href="#查看文件在哪些block中" class="headerlink" title="查看文件在哪些block中"></a>查看文件在哪些block中</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">filefrag -v cc</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看分区信息"><a href="#查看分区信息" class="headerlink" title="查看分区信息"></a>查看分区信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dumpe2fs  /dev/sda3</div><div class="line"></div><div class="line">tune2fs -l /dev/sda5 	# 显示的是上面信息的头部部分</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示文件夹大小"><a href="#显示文件夹大小" class="headerlink" title="显示文件夹大小"></a>显示文件夹大小</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">du</div><div class="line">	-s 	单层显示</div><div class="line">	-h 	人性化显示</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示已挂载磁盘信息"><a href="#显示已挂载磁盘信息" class="headerlink" title="显示已挂载磁盘信息"></a>显示已挂载磁盘信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">df</div><div class="line">	-h  人性化显示</div><div class="line">	-T   显示文件类型</div></pre></td></tr></table></figure>
<hr>
<h3 id="分区操作"><a href="#分区操作" class="headerlink" title="分区操作"></a>分区操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">1&gt;</div><div class="line">	fdisk -l            查看分区情况(有多个硬盘的话可以加硬盘名)</div><div class="line"></div><div class="line">2&gt;</div><div class="line">	fdisk /dev/sda      给sda分区</div><div class="line">3&gt; </div><div class="line">		## m查看帮助</div><div class="line">   a   toggle a bootable flag                </div><div class="line">   b   edit bsd disklabel</div><div class="line">   c   toggle the dos compatibility flag</div><div class="line">   d   delete a partition 	//删除分区</div><div class="line">   g   create a new empty GPT partition table</div><div class="line">   G   create an IRIX (SGI) partition table</div><div class="line">   l   list known partition types 	//列出分区类型</div><div class="line">   m   print this menu</div><div class="line">   n   add a new partition 	//创建一个新的分区</div><div class="line">   o   create a new empty DOS partition table 	</div><div class="line">   p   print the partition table 	//显示分区表</div><div class="line">   q   quit without saving changes 	//不保存退出</div><div class="line">   s   create a new empty Sun disklabel</div><div class="line">   t   change a partition&apos;s system id 	//修改分区类型</div><div class="line">   u   change display/entry units</div><div class="line">   v   verify the partition table</div><div class="line">   w   write table to disk and exit 	//保存并推出</div><div class="line">   x   extra functionality (experts only)</div><div class="line"></div><div class="line">4&gt;</div><div class="line">	partprobe [/dev/sda]    //更新分区表</div><div class="line"></div><div class="line">5&gt; </div><div class="line">	mkfs -t ext3 /dev/sda5    格式化分区(=mkfs.ext3 /dev/sda5)</div><div class="line">	mkfs -t ext3 -b 4096 /dev/sda5   //每一个block是4k</div><div class="line"></div><div class="line">6&gt;</div><div class="line">	mount /dev/sda5 /mnt   //挂载</div><div class="line">	umount /dev/sda5     //卸载</div><div class="line"></div><div class="line">	mount -o remount,ro /mnt  		 //以只读的形式挂载（remount：重新挂载，先卸载再挂载）</div><div class="line">	mount -o remount,rw /mnt 		//读写权限</div><div class="line">	mount -o remount,noexec /mnt  	//无执行权限</div><div class="line">	mount -o loop xx.iso /mnt 		//挂载镜像</div><div class="line">	vim /etc/fstab   				//永久挂载</div><div class="line">									（/dev/sda5   /home/smallbug/workspace   ext3    defaults   0 0）</div><div class="line">									（defaults：默认权限，0：是否要做备份    0：是否用fsck检查）</div></pre></td></tr></table></figure>
<hr>
<h3 id="检查磁盘"><a href="#检查磁盘" class="headerlink" title="检查磁盘"></a>检查磁盘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fsck -f(强制检查) -C（显示进度）/dev/sda4</div></pre></td></tr></table></figure>
<hr>
<h3 id="检查坏道"><a href="#检查坏道" class="headerlink" title="检查坏道"></a>检查坏道</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">badblock  -sv（进度）/dev/sda4</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看哪个进程占用该磁盘"><a href="#查看哪个进程占用该磁盘" class="headerlink" title="查看哪个进程占用该磁盘"></a>查看哪个进程占用该磁盘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fuser -mv /mnt</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看交换分区"><a href="#查看交换分区" class="headerlink" title="查看交换分区"></a>查看交换分区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/swaps</div></pre></td></tr></table></figure>
<hr>
<h3 id="将Linux文件格式转换为windows格式"><a href="#将Linux文件格式转换为windows格式" class="headerlink" title="将Linux文件格式转换为windows格式"></a>将Linux文件格式转换为windows格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">unix2dos -n 123 345</div></pre></td></tr></table></figure>
<hr>
<h3 id="压缩备份"><a href="#压缩备份" class="headerlink" title="压缩备份"></a>压缩备份</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">1&gt;</div><div class="line">gzip 	# 压缩文件为 *.gz</div><div class="line">		-d 	# 解压</div><div class="line">		gzip -c hosts &gt; hosts.gz 	# 压缩时保留源文件</div><div class="line"></div><div class="line">2&gt; </div><div class="line">zcat 	# 查看gzip压缩过的文件</div><div class="line"></div><div class="line">3&gt; </div><div class="line">gunzip(gzip -d) 	# 解压缩文件</div><div class="line"></div><div class="line">4&gt;</div><div class="line">zip 		-r	压缩目录</div><div class="line">	解压：unzip FileName.zip</div><div class="line">	压缩：zip FileName.zip DirName</div><div class="line"></div><div class="line">5&gt; </div><div class="line">bzip2	压缩文件</div><div class="line">		-k	产生压缩文件后保留原文件</div><div class="line">		-d  解压</div><div class="line">		bzip2 -c hosts &gt; hosts.bz2    缩时保留源文件</div><div class="line"></div><div class="line">bzcat 查看bzip2压缩过的文件</div><div class="line"></div><div class="line">bunzip2	解压缩文件</div><div class="line"></div><div class="line">6&gt; </div><div class="line">tar			打包文件</div><div class="line">		-c	打包（-x	解包）</div><div class="line">		-v	显示详细信息</div><div class="line">		-f	指定文件名</div><div class="line">		-z	打包同时压缩（解压缩）（gzip）</div><div class="line">		-j	打包同时压缩（解压缩）（bzip2）</div><div class="line">		-t  不解档的情况下，查看文件内容</div><div class="line">		-C 目录   指定解档目录</div><div class="line"></div><div class="line">tar zcvf mkd.tar.gz ./mkd/</div><div class="line"></div><div class="line">7&gt; </div><div class="line">创建ISO镜像</div><div class="line">	mkisofs -o xx.iso file1 file2 file3</div><div class="line"></div><div class="line">cp /dev/cdrom xxx.iso</div><div class="line">	直接将光盘中的文件复制成iso镜像</div><div class="line"></div><div class="line">8&gt;</div><div class="line">dd if=/dev/sda5 of=test   将sda5分区中的数据备份到test中</div><div class="line"></div><div class="line">dd if=/dev/zero of=file bs=1M count=100 		## 创建100M文件file</div></pre></td></tr></table></figure>
<hr>
<h3 id="vim程序编辑器"><a href="#vim程序编辑器" class="headerlink" title="vim程序编辑器"></a>vim程序编辑器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div></pre></td><td class="code"><pre><div class="line">vi filename(进入)---&gt;命令模式</div><div class="line">	 :wq(退出)------&gt;命令模式</div><div class="line">						|	 </div><div class="line">						|ESC</div><div class="line">						|</div><div class="line">	 iao------------&gt;插入模式</div><div class="line">	 </div><div class="line">a	在光标所在字符后插入</div><div class="line">A	在光标所在行尾插入</div><div class="line">i	在光标所在字符前插入</div><div class="line">I	在光标所在行行首插入</div><div class="line">o	在光标下插入新行</div><div class="line">O	在光标上插入新行</div><div class="line"></div><div class="line">:set nu		设置行号</div><div class="line">:set nonu	取消行号</div><div class="line"></div><div class="line">gg			到第一行</div><div class="line">G			到最后一行</div><div class="line">nG			到第n行</div><div class="line">:n			到第n行</div><div class="line"></div><div class="line">$			移至行尾</div><div class="line">0			移至行首</div><div class="line"></div><div class="line">x			删除光标所在处字符</div><div class="line">nx			删除光标所在处后n个字符</div><div class="line">dd			删除光标所在行</div><div class="line">ndd			删除n行</div><div class="line">dG			删除光标所在行到文件末尾内容</div><div class="line">D			删除光标所在处到文件末尾内容</div><div class="line">:n1,n2d		删除指定范围的行</div><div class="line"></div><div class="line">yy			复制当前行</div><div class="line">nyy			复制当前行以下n行</div><div class="line">dd			剪切当前行</div><div class="line">ndd			剪切当前行以下n行</div><div class="line">p、P		粘贴在当前光标所在行下或行上</div><div class="line"></div><div class="line">r			取代光标所在处字符</div><div class="line">R			从光标所在处开始替换字符，按ESC结束</div><div class="line">u			取消上一步操作</div><div class="line"></div><div class="line">/string		搜索指定字符串</div><div class="line">			搜索时忽略大小写:set ic</div><div class="line">n			搜索指定字符串的下一个出现的位置</div><div class="line"></div><div class="line">:%s/old/new/g(不询问)c(询问)		全文替换指定的字符串</div><div class="line">:n1,n2s/old/new/g					在一定范围内替换指定字符串</div><div class="line"></div><div class="line">:W					保存修改</div><div class="line">:W new_filename		另存为指定文件</div><div class="line">:wq					保存修改并退出</div><div class="line">ZZ					快捷键，保存修改并退出</div><div class="line">:q!					不保存修改退出</div><div class="line">:wq!				保存修改并退出（文件所有者及root可以使用）</div><div class="line">	 </div><div class="line">:r 文件名			将文件中的所有内容导入到该文件中</div><div class="line">: !命令				执行命令</div><div class="line">:map Ctrl+v Ctrl+()	增加快捷键</div><div class="line"></div><div class="line">:n1,n2s/^/#/g		注释多行</div><div class="line"></div><div class="line">:ab 				打出a换成b</div><div class="line">:sp        分屏</div><div class="line">ctrl+w     切换</div><div class="line">:only      取消分屏</div><div class="line"></div><div class="line">/home/username/.vimrc		普通用户设置vim快捷键</div><div class="line">/root/.vimrc				root用户设置vim快捷键</div><div class="line"></div><div class="line">vim插件：</div><div class="line">	1&gt;https://github.com/ma6174/vim</div><div class="line">				编写python程序</div><div class="line"></div><div class="line">				自动插入头信息：</div><div class="line">				#!/usr/bin/env python</div><div class="line">				# coding=utf-8</div><div class="line">				输入.或按TAB键会触发代码补全功能</div><div class="line">				:w保存代码之后会自动检查代码错误与规范</div><div class="line">				按F6可以按pep8格式对代码格式优化</div><div class="line">				按F5可以一键执行代码</div><div class="line">				多窗口操作</div><div class="line"></div><div class="line">				使用:sp + 文件名可以水平分割窗口</div><div class="line">				使用:vs + 文件名可以垂直分割窗口</div><div class="line">				使用Ctrl + w可以快速在窗口间切换</div><div class="line">				编写markdown文件</div><div class="line"></div><div class="line">				编写markdown文件(*.md)的时候，在normal模式下按 md 即可在当前目录下生成相应的html文件</div><div class="line">				生成之后还是在normal模式按fi可以使用firefox打开相应的html文件预览</div><div class="line">				当然也可以使用万能的F5键来一键转换并打开预览</div><div class="line">				如果打开过程中屏幕出现一些混乱信息，可以按Ctrl + l来恢复</div><div class="line">				快速注释</div><div class="line"></div><div class="line">				按\ 可以根据文件类型自动注释</div><div class="line">				</div><div class="line">	2&gt;https://github.com/amix/vimrc</div></pre></td></tr></table></figure>
<hr>
<h3 id="用户信息查看"><a href="#用户信息查看" class="headerlink" title="用户信息查看"></a>用户信息查看</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">/etc/passwd 	# 用户信息存放目录</div><div class="line"></div><div class="line">/etc/shadow 	# 用户密码存放目录</div><div class="line"></div><div class="line">/etc/group 		# 组的存放目录</div></pre></td></tr></table></figure>
<hr>
<h3 id="UID-amp-passwd"><a href="#UID-amp-passwd" class="headerlink" title="UID &amp; passwd"></a>UID &amp; passwd</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">1&gt;</div><div class="line">uid标志一个用户</div><div class="line">每一个UID对应一个用户，root的UID是0，1~499是系统用户UID，500~65535是普通用户</div><div class="line"></div><div class="line">2&gt;</div><div class="line">passwd  每一行是6个冒号分成7部分</div><div class="line">repository:x:1000:1000:repository:/home/repository:/bin/bash</div><div class="line">用户名:密码占位符:UID:GID:注释信息:家目录:shell信息</div></pre></td></tr></table></figure>
<hr>
<h3 id="用户用户组管理"><a href="#用户用户组管理" class="headerlink" title="用户用户组管理"></a>用户用户组管理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">groupadd bob   # 添加一个组</div><div class="line">groupdel bob   # 删除一个组</div><div class="line"></div><div class="line">gpasswd -a smallbug root   # 将smallbug添加到root组中</div><div class="line">		-d 删除</div><div class="line"></div><div class="line">groups smallbug 		查看smallbug用户的所属组</div><div class="line"></div><div class="line">newgrp root //临时切换默认组(exit可恢复到原状态)</div><div class="line"></div><div class="line"></div><div class="line">useradd			添加用户</div><div class="line">	-D  查看创建用户时的默认值</div><div class="line">	-c &quot;注释&quot;</div><div class="line">	-s  制指定shell</div><div class="line">	-d  家目录</div><div class="line">	-g  组（不创建组，只分配到默认组）</div><div class="line">	-G  root 除了创建本组外还会将用户添加到root组中</div><div class="line">	-u  UID</div><div class="line"></div><div class="line">vim /etc/default/useradd    修改默认值</div><div class="line"></div><div class="line">/sbin/nologin 		只能登陆服务不能登陆主机</div><div class="line"></div><div class="line">usermod -c &quot;修改用户信息&quot; repository</div><div class="line"></div><div class="line">userdel -r 删除用户</div><div class="line"></div><div class="line"></div><div class="line">usermod 		可用来修改用户帐号的各项设定。</div><div class="line">	　-c&lt;备注&gt; 　修改用户帐号的备注文字。 </div><div class="line">	　-d登入目录&gt; 　修改用户登入时的目录。 </div><div class="line">	　-e&lt;有效期限&gt; 　修改帐号的有效期限。 </div><div class="line">	　-f&lt;缓冲天数&gt; 　修改在密码过期后多少天即关闭该帐号。 </div><div class="line">	　-g&lt;群组&gt; 　修改用户所属的群组。 </div><div class="line">	　-G&lt;群组&gt; 　修改用户所属的附加群组。 </div><div class="line">	　-l&lt;帐号名称&gt; 　修改用户帐号名称。 </div><div class="line">	　-L 　锁定用户密码，使密码无效。 </div><div class="line">	　-s&lt;shell&gt; 　修改用户登入后所使用的shell。 </div><div class="line">	　-u&lt;uid&gt; 　修改用户ID。 </div><div class="line">	　-U 　解除密码锁定。</div><div class="line"></div><div class="line"></div><div class="line">查看系统中有哪些用户：cut -d : -f 1 /etc/passwd</div><div class="line"></div><div class="line">查看可以登录系统的用户：cat /etc/passwd | grep -v /sbin/nologin | cut -d : -f 1</div><div class="line"></div><div class="line">查看用户登录历史记录：last</div></pre></td></tr></table></figure>
<hr>
<h3 id="密码操作"><a href="#密码操作" class="headerlink" title="密码操作"></a>密码操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">password smallbug 		修改smallbug的密码</div><div class="line"></div><div class="line">sudo passwd -S smallbug 	查看smallbug密码的加密方式</div><div class="line"></div><div class="line">passwd -S repositpry   //查看密码信息</div><div class="line"></div><div class="line">passwd -d repository   //清空密码</div><div class="line">		-l //锁定账号信息（=usermod -L smallbug）</div><div class="line">		-u  //解锁（=usermod -U smallbug）</div><div class="line"></div><div class="line">echo $xx | passwd --stdin tom 		脚本方式修改密码</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看用户UID，GID，GROUPS"><a href="#查看用户UID，GID，GROUPS" class="headerlink" title="查看用户UID，GID，GROUPS"></a>查看用户UID，GID，GROUPS</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$&gt; id tom</div><div class="line"></div><div class="line">uid=1001(tom) gid=1001(tom) groups=1001(tom)</div></pre></td></tr></table></figure>
<hr>
<h3 id="当前有哪些用户登录"><a href="#当前有哪些用户登录" class="headerlink" title="当前有哪些用户登录"></a>当前有哪些用户登录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">who</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看是否开启信息功能"><a href="#查看是否开启信息功能" class="headerlink" title="查看是否开启信息功能"></a>查看是否开启信息功能</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mesg 	# 即使关闭，root发送的信息也可看到</div><div class="line"></div><div class="line">write tom pts/3 		写信息</div><div class="line">		你好</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看当前在线用户"><a href="#查看当前在线用户" class="headerlink" title="查看当前在线用户"></a>查看当前在线用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">w</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看后台进程"><a href="#查看后台进程" class="headerlink" title="查看后台进程"></a>查看后台进程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jobs</div></pre></td></tr></table></figure>
<hr>
<h3 id="运行后台进程"><a href="#运行后台进程" class="headerlink" title="运行后台进程"></a>运行后台进程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bg 1</div></pre></td></tr></table></figure>
<hr>
<h3 id="将进程重新调到前台"><a href="#将进程重新调到前台" class="headerlink" title="将进程重新调到前台"></a>将进程重新调到前台</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fg 1</div></pre></td></tr></table></figure>
<hr>
<h3 id="杀死后台进程号为1的进程"><a href="#杀死后台进程号为1的进程" class="headerlink" title="杀死后台进程号为1的进程"></a>杀死后台进程号为1的进程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">kill -9 %1 		</div><div class="line"></div><div class="line">kill -l  查看所有信号</div><div class="line"></div><div class="line">killall -9 java   直接杀死进程</div></pre></td></tr></table></figure>
<hr>
<h3 id="关闭远程客户端程序依然在运行"><a href="#关闭远程客户端程序依然在运行" class="headerlink" title="关闭远程客户端程序依然在运行"></a>关闭远程客户端程序依然在运行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nohup ping www.baidu.com &amp;</div></pre></td></tr></table></figure>
<hr>
<h3 id="ps命令"><a href="#ps命令" class="headerlink" title="ps命令"></a>ps命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">ps -l		当前shell运行的程序</div><div class="line"></div><div class="line">ps -aux 	显示所有进程，所有者，详细信息</div><div class="line"></div><div class="line">ps -ex -o comm,%cpu    查看进程名及对应的CPU使用情况</div><div class="line">			   %mem   内存使用率</div><div class="line">			   pid    显示pid</div><div class="line">			   stat    显示进程状态</div><div class="line">			   		R 正在运行</div><div class="line">			   		Z 僵尸状态</div><div class="line">			   		T 停止状态</div><div class="line">			   		S 睡眠状态</div><div class="line"></div><div class="line"></div><div class="line">ps -ex -o comm,%cpu,%mem,pid,stat</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看某一个PID是多少"><a href="#查看某一个PID是多少" class="headerlink" title="查看某一个PID是多少"></a>查看某一个PID是多少</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pidof  bash</div></pre></td></tr></table></figure>
<hr>
<h3 id="进程查看优先级改变"><a href="#进程查看优先级改变" class="headerlink" title="进程查看优先级改变"></a>进程查看优先级改变</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">top  动态显示资源使用状态</div><div class="line"></div><div class="line">top -d 1   一秒钟刷新一次状态</div><div class="line"></div><div class="line">优先级=优先系数+nice值（-20~19）（最高~最低）</div><div class="line"></div><div class="line">1&gt; 在top中r修改nice值，改变进程优先级</div><div class="line"></div><div class="line">2&gt; PID to renice [default pid = 25593]</div><div class="line"></div><div class="line">3&gt; Renice PID 23369 to value -12</div><div class="line"></div><div class="line">renice -20 2061   修改PID为2061的进程将其nice值改成-20</div><div class="line"></div><div class="line">nice -n -19  cat  以nice值为-19来运行cat命令</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示内存及交换分区的使用情况"><a href="#显示内存及交换分区的使用情况" class="headerlink" title="显示内存及交换分区的使用情况"></a>显示内存及交换分区的使用情况</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">free -h # 人性化显示</div></pre></td></tr></table></figure>
<hr>
<h3 id="时间查看"><a href="#时间查看" class="headerlink" title="时间查看"></a>时间查看</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uptime  # 当前时间，系统运行时间，连接用户，系统负荷</div></pre></td></tr></table></figure>
<hr>
<h3 id="系统资源状态"><a href="#系统资源状态" class="headerlink" title="系统资源状态"></a>系统资源状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vmstat 1 3     1s执行一次，执行3次</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看有哪些端口处于监听状态"><a href="#查看有哪些端口处于监听状态" class="headerlink" title="查看有哪些端口处于监听状态"></a>查看有哪些端口处于监听状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">netstat -ntul 	# n:做反向解析</div></pre></td></tr></table></figure>
<hr>
<h3 id="显示进程树"><a href="#显示进程树" class="headerlink" title="显示进程树"></a>显示进程树</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pstree -u</div></pre></td></tr></table></figure>
<hr>
<h3 id="查看系统中的服务"><a href="#查看系统中的服务" class="headerlink" title="查看系统中的服务"></a>查看系统中的服务</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ls -al /usr/lib/systemd/system</div></pre></td></tr></table></figure>
<hr>
<h3 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">yum install gcc-c++ libstdc++-devel</div><div class="line"></div><div class="line">安装未指定目录默认路径是 /usr/local</div><div class="line">./configure --prefix=/opt/XXX   指明安装目录</div><div class="line"></div><div class="line">生成makeFile文件之后 make &amp; make install</div></pre></td></tr></table></figure>
<hr>
<h3 id="rpm-amp-yum"><a href="#rpm-amp-yum" class="headerlink" title="rpm &amp; yum"></a>rpm &amp; yum</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">1&gt; </div><div class="line">rpm：</div><div class="line">	-ivh  i安装 v显示过程  h调用数字签名（--force强制安装）</div><div class="line">	-qa   查看当前系统所安装的所有软件包</div><div class="line">	-ql   查看软件安装目录</div><div class="line">	-qc   查看软件安装配置文件</div><div class="line">	-qd   查看帮助文档</div><div class="line">	-qi   查看详细信息</div><div class="line">	-qf   查看该软件由哪个软件包安装的</div><div class="line">	-K    验证rpm包是否是官方原版（rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7）</div><div class="line">	-qlp  查看rpm包的安装目录</div><div class="line">	-e    卸载软件 （--nodeps  忽略软件包的依赖关系）</div><div class="line">	-Uvh  更新软件</div><div class="line">	--test                            安装测试，并不实际安装</div><div class="line">	--replacepkge                    无论软件包是否已被安装，都强行安装软件包</div><div class="line"></div><div class="line">2&gt;</div><div class="line"></div><div class="line">yum [options] [command] [package ...]</div><div class="line"></div><div class="line">	-h 		帮助</div><div class="line">	-y 		当安装过程提示选择全部为&quot;yes&quot;</div><div class="line">	-q 		不显示安装的过程</div><div class="line"></div><div class="line">yum install yum-fastestmirror 		自动搜索最快镜像插件</div><div class="line"></div><div class="line">yum install yumex 					安装yum图形窗口插件</div><div class="line"></div><div class="line">yum grouplist 						查看可能批量安装的列表</div><div class="line"></div><div class="line">1 安装</div><div class="line">	yum install 全部安装</div><div class="line">	yum install package1 安装指定的安装包package1</div><div class="line">	yum groupinsall group1 安装程序组group1</div><div class="line"></div><div class="line">2 更新和升级</div><div class="line">	yum update 全部更新</div><div class="line">	yum update package1 更新指定程序包package1</div><div class="line">	yum check-update 检查可更新的程序</div><div class="line">	yum upgrade package1 升级指定程序包package1</div><div class="line">	yum groupupdate group1 升级程序组group1</div><div class="line"></div><div class="line">3 查找和显示</div><div class="line">	yum info package1 显示安装包信息package1</div><div class="line">	yum list 显示所有已经安装和可以安装的程序包</div><div class="line">	yum list package1\* 显示指定程序包安装情况package1，\*代表后面字符不受限制</div><div class="line">	yum search package 查看远程和本地可用的包</div><div class="line">	yum groupinfo group1 显示程序组group1信息yum search string 根据关键字string查找安装包</div><div class="line"></div><div class="line">4 删除程序</div><div class="line">	yum remove package1 删除程序包package1</div><div class="line">		-y 不会询问，直接卸载</div><div class="line">		</div><div class="line">	yum groupremove group1 删除程序组group1</div><div class="line">	yum deplist package1 查看程序package1依赖情况</div><div class="line"></div><div class="line">5 清除缓存</div><div class="line">	yum clean packages 清除缓存目录下的软件包</div><div class="line">	yum clean headers 清除缓存目录下的 headers</div><div class="line">	yum clean oldheaders 清除缓存目录下旧的 headers</div><div class="line">	yum clean, yum clean all (= yum clean packages; yum clean oldheaders) 清除缓存目录下的软件包及旧的headers</div></pre></td></tr></table></figure>
<hr>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;计算器&quot;&gt;&lt;a href=&quot;#计算器&quot; class=&quot;headerlink&quot; title=&quot;计算器&quot;&gt;&lt;/a&gt;计算器&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;d
    
    </summary>
    
      <category term="Linux" scheme="http://yoursite.com/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>MySQL Explain 详解</title>
    <link href="http://yoursite.com/2016/12/22/MySQL/explain/"/>
    <id>http://yoursite.com/2016/12/22/MySQL/explain/</id>
    <published>2016-12-22T05:00:00.000Z</published>
    <updated>2016-12-22T11:44:10.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="id-列"><a href="#id-列" class="headerlink" title="id 列"></a>id 列</h3><p>　　从ID列可以判断SQL的执行顺序：从大到小，如果ID相同，就从上到下执行。如果行引用联合结果的其他行，那么它的值可能为NULL，这种情况下，table列的值会显示为<code>&lt;unionM,N&gt;</code>来指明行引用的是联合行中的带有指定<code>M,N</code>值的ID。</p>
<hr>
<h3 id="select-type-列"><a href="#select-type-列" class="headerlink" title="select_type 列"></a>select_type 列</h3><ul>
<li><p><strong>SIMPLE</strong><br>简单的 <code>SELECT</code> 语句（没有使用 <code>union</code> 或者 子查询）  </p>
</li>
<li><p><strong>PRIMARY</strong><br>最外层的 <code>SELECT</code> 语句  </p>
</li>
<li><p><strong>UNION</strong><br>在一个 <code>UNION</code> 语句中第二或之后的SELECT语句  </p>
</li>
<li><p><strong>DEPENENT_UNION</strong><br>在一个 <code>UNION</code> 语句中第二或之后的 <code>SELECT</code> 语句，取决于外层的查询  </p>
</li>
<li><p><strong>UNION_RESULT</strong><br><code>UNION</code> 的结果集  </p>
</li>
<li><p><strong>SUBQUERY</strong><br>子查询中的第一个 <code>SELECT</code>  </p>
</li>
<li><p><strong>DEPENENT_SUBQUERY</strong><br>子查询中的第一个 <code>SELECT</code> ,取决于外层的查询</p>
</li>
<li><p><strong>DERIVED</strong><br><code>SELECT</code> 的驱动表（ <code>FROM</code> 子查询）</p>
</li>
<li><p><strong>MATERIALIZED</strong><br>物化子查询  </p>
</li>
<li><p><strong>UNCACHEABLE SUBQUERY</strong><br>不能将结果缓存的子查询，必须重新计算外部查询的每一行  </p>
</li>
<li><p><strong>UNCACHEABLE UNION</strong><br>在一个 <code>UNION</code> 中第二或之后的 <code>SELECT</code> 查询属于<code>UNCACHEABLE SUBQUERY</code>（请看 <code>UNCACHEABLE SUBQUERY</code> )  </p>
</li>
<li><p><strong>特别声明</strong><br><strong><code>DEPENDENT</code></strong>：典型代表就是使用了相关子查询。（相关子查询：子查询里包含了一个同时在子查询里，又在外部查询的表的查询）<br><strong><code>DEPENDENT SUBQUERY</code></strong>: 它不同于 <code>UNCACHEABLE SUBQUERY</code> 的求值。对于 <code>DEPENDENT SUBQUERY</code> ，子查询对于外部上下文里每一个集合中不同的变量值仅仅重新计算一次。而对于 <code>UNCACHEABLE SUBQUERY</code>，子查询对于外部上下文里的每一行都会重新计算一次。  </p>
</li>
</ul>
<hr>
<h3 id="table-列"><a href="#table-列" class="headerlink" title="table 列"></a>table 列</h3><p>SQL中使用到的表。它的值也可为下面的其中之一：  </p>
<ul>
<li><strong><code>&lt;unionM,N&gt;</code></strong>: 行引用了带有值为 <code>M,N</code> 的查询ID的联合行  </li>
<li><strong><code>&lt;derivedN&gt;</code></strong>: 行引用了值为 <code>N</code> 的ID的驱动表结果。例如，它是从 <code>FROM</code> 子查询中的结果形成的驱动表的结果集  </li>
</ul>
<p>　　例：<code>EXPLAIN SELECT * FROM (SELECT * FROM vip_system_user) b WHERE b.id&gt;57</code>  </p>
<p>　　　　<img src="../../../../../self_img/2016/2016-10-12_111418.png" width="800px" height="60px"></p>
<ul>
<li><strong><code>&lt;subqueryN&gt;</code></strong>: 行引用了一个值为 <code>N</code> 的ID的　<code>materialized subquery</code>（物化子查询）的结果。</li>
</ul>
<hr>
<h3 id="partitions-列"><a href="#partitions-列" class="headerlink" title="partitions 列"></a>partitions 列</h3><p>查询中所匹配的记录所在的分区。这列只有在使用了 <code>PARTITIONS</code> 关键字时才会显示。对于没有使用分区表的，该值为NULL</p>
<hr>
<h3 id="type-列"><a href="#type-列" class="headerlink" title="type 列"></a>type 列</h3><hr>
<p>连接类型  </p>
<ul>
<li><p><strong>system</strong><br>表只有一行（=system table）。这个是 <code>const</code> 连接类型的一个特例。  </p>
</li>
<li><p><strong>const</strong><br>该表最多只有一条匹配的行，这是读取查询的开始。因为这里只有一行，该行这列的值可以被优化器的剩余部分认为是常量。const表是非常快的，因为它们只会读取一次。<br><code>const</code> 用于当你与<strong><em>主键</em></strong> 或者<strong><em>唯一索引</em></strong>的所有部分比较的是<strong><em>常量</em></strong>值时。在以下的查询中，tal_name 可以被用作const表：  </p>
</li>
</ul>
<p>　　<code>select * from tbl_name where primary_key = 1;</code><br>　　<code>select * from tbl_name where primary_key_part1 = 1 and primary_key_part2 = 2</code></p>
<ul>
<li><strong>eq_ref</strong><br>从该表中读取一行与前一张表的所有行的每一种组合。除了 <code>system</code> 和 <code>const</code> 类型，这可能是最好的连接类型了。它通常于用在连接时使用了索引的所有部分，并且索引是一个<strong><em>主键索引</em></strong>或者<strong><em>唯一非空索引</em></strong>。</li>
</ul>
<p>　　例：<code>EXPLAIN SELECT u.user_name FROM vip_system_user_role ur LEFT OUTER JOIN vip_system_user u ON ur.sys_user_id=u.id</code>  </p>
<p>　　　　<img src="../../../../../self_img/2016/2016-10-12_131010.png" width="800px" height="60px">  </p>
<ul>
<li><strong>ref</strong><br>所有索引匹配的行的值与前一张表的所有行的每一种组合。ref用于连接仅使用最左前缀索引或者索引不是主键索引，唯一索引（换句话说，连接不能基于该索引值选择一行 ）。如果索引用于匹配少数行，这是一个好的连接类型。<code>ref</code> 能够用于使用 <code>=</code> 或者 <code>&lt;=&gt;</code> 操作符的索引列中。  </li>
</ul>
<p>　　例：<code>EXPLAIN SELECT * FROM vip_system_permission p1 LEFT OUTER JOIN vip_system_permission p2 ON p1.id=p2.parent_id</code></p>
<p>　　　　<img src="../../../../../self_img/2016/2016-10-12_143115.png" width="800px" height="60px">  </p>
<ul>
<li><p><strong>fulltext</strong><br>这个连接使用fulltext索引执行  </p>
</li>
<li><p><strong>ref_or_null</strong><br>这个连接类型是类似ref，但有些额外的不同：MySQL要做一些额外操作去搜索包含NULL值的行。这个连接类型通常用于优化执行子查询  </p>
</li>
<li><p><strong>index_merge</strong><br>这个连接类型说明使用了索引合并优化。在这种情况下，在输出行的 <code>key</code> 列包含了一个使用索引的列表，并且 <code>key_len</code> 包含了使用了索引最长的那部分列表。</p>
</li>
<li><p><strong>unique_subquery</strong><br>当子查询中查询的字段是<strong><em>主键</em></strong>或者<strong><em>唯一性索引</em></strong>时，用来在 <code>IN</code> 子查询中替代 <code>ref</code> 类型。  </p>
</li>
</ul>
<p>　　例：<code>EXPLAIN SELECT * FROM vip_system_permission p1 WHERE p1.parent_id IN (SELECT id FROM vip_system_permission)</code>  </p>
<ul>
<li><strong>index_subquery</strong><br>当子查询中查询的字段是<strong><em>非唯一性索引</em></strong>时，用来在 <code>IN</code> 子查询中替代 <code>ref</code> 类型。  </li>
</ul>
<p>　　例：<code>EXPLAIN SELECT * FROM vip_system_permission p1 WHERE p1.parent_id IN (SELECT DISTINCT parent_id FROM vip_system_permission)</code>  </p>
<ul>
<li><p><strong>range</strong><br>仅在给定的范围使用索引检索行。在输出的行中的 <code>key</code> 列说明使用了哪个索引。<code>key_len</code> 列包含了使用了索引的最长部分。对于这种类型下，ref列的值为NULL。<br><code>range</code> 可以用于当索引列使用以下任一个操作符与常量比较时使用：<code>=, &lt;&gt;, &gt;, &gt;=, &lt;, &lt;=, IS NULL, &lt;=&gt;,BETWEEN</code> 或者 <code>IN()</code>  </p>
</li>
<li><p><strong>index</strong><br><code>index</code> 索引连接类型与 <code>all</code> 相同，除了它是扫描索引树外（即全索引扫描）。这在两种情况下发生：  </p>
</li>
</ul>
<p>　　1. 如果索引对于查询来说是覆盖索引并且可用于满足要求表的数据要求，这时只有索引树会被扫描。在这种情况下，<code>Extra</code> 列会显示为 <code>Using index</code>。一个只读索引扫描通常比 <code>ALL</code> 更快，因为索引的大小通常是比表的大小更小。<br>　　2. 全表扫描的执行是从索引读取的顺序去查找数据行。这时 <code>Extra</code> 列不会出现 <code>Uses index</code>。  </p>
<p>　　MySQL 当查询仅使用单独索引的一部分列时才会使用这个连接类型。  </p>
<ul>
<li><strong>ALL</strong><br>从前表中每一个行组合进行全表扫描。如果表是第一个表并没有标识为 <code>const</code> 的话，这通常是不好的，并且在其他的情况下是非常糟糕的。所以，你可以通过添加索引来避免ALL连接类型，这使得行检索基于常量值或者从更早的表中的列值。</li>
</ul>
<h3 id="possible-keys-列"><a href="#possible-keys-列" class="headerlink" title="possible_keys 列"></a>possible_keys 列</h3><p>　　该列指出MySQL可以从该表中使用哪个索引去查找行。注意，该列完全独立于 <code>explain</code> 输出结果显示的表的顺序的。这意味着，一些在possible_keys里的键，在实际上可能无法在产生表的顺序时使用。<br>　　如果没有相关的索引，该列就为 <code>NULL</code>。在这种情况下，你可以通过测试 <code>WHERE</code> 子句检查它使用的列有没有适当的索引来提高查询的性能。如果的确如此的话，创建一个合适的索引并使用Explain来再次检查你的查询有没有用上了索引。<br>　　查看表有哪些索引，可以使用<code>show index from tbl_name</code>  </p>
<hr>
<h3 id="key-列"><a href="#key-列" class="headerlink" title="key 列"></a>key 列</h3><p>　　该列指出MySQL实际决定使用的key(索引）。如果MySQL决定使用 <code>possible_keys</code> 中之一的索引去查找行，那么那个索引的值就是该key列的值<br>　　不过，有可能key列的索引名没有出现在 <code>possible_keys</code> 列中。这可能发生在，如果 <code>possible_keys</code> 索引中没有一个是适合查找行的索引，但查询所选择的列都是其他索引中包含的列的情况。这意味着，命名的索引覆盖了所选择的列，所以尽管它不用于决定哪些行要检索，但一个索引扫描比数据行扫描更高效。<br>　　对于InnoDB,二级索引可能覆盖了所选择的列，尽管查询也选择了主键，因为InnoDB保存每一个二级索引里保存了主键的值。如果key列为NULL，MySQL会发现没有索引可用于执行更高效的查询。<br>　　强制MySQL去使用或者忽略在possible_keys列的某个索引，可以在查询中使用FORCE INDEX, USE INDEX 或者 IGNORE INDEX。<br>　　对于MyISAM和NDB表，执行ANALYZE TABLE可以帮助优化器选择更好的索引。对于NDB表，这也会提高分布式下推连接的性能。对于MyISAM表，myisamchk –analyze 与 analyze table的作用相同。  </p>
<hr>
<h3 id="key-len-列"><a href="#key-len-列" class="headerlink" title="key_len 列"></a>key_len 列</h3><p>　　该列指出MySQL决定使用的索引(key)的长度。如果key列为NULL，那么该列也为NULL。注意，key_len的值能够让你确定MySQL实际上使用了一个组合索引中的多少部分。  </p>
<hr>
<h3 id="ref-列"><a href="#ref-列" class="headerlink" title="ref 列"></a>ref 列</h3><p>　　该列显示了哪些列或常量是用于与在key列的命名的索引列来进行比较来从表中选择行的。<br>　　如果值为func，该值就会用于一些函数的结果集。为了查找出哪些函数，执行SHOW WARNINGS之后，使用EXPLAIN EXTENDED来查看。函数可能实际上是一个操作符，像算术操作那样。</p>
<hr>
<h3 id="rows-列"><a href="#rows-列" class="headerlink" title="rows 列"></a>rows 列</h3><p>　　该列指出MySQL认为它必须检验执行查询的行数。<br>　　对于InnoDB表，这个数值是个估计值，并不总是准确的。</p>
<hr>
<h3 id="filtered-列"><a href="#filtered-列" class="headerlink" title="filtered 列"></a>filtered 列</h3><p>　　该列指出，表行中的百分比将会被表的条件过滤。即，rows列显示了测试的行数，而<code>(rows * filtered / 100)</code> 显示了将与之前的表进行连接的行数。该列将会在你使用 <code>explain extended</code> 时显示出来。</p>
<hr>
<h3 id="extra-列-及常见的值"><a href="#extra-列-及常见的值" class="headerlink" title="extra 列 及常见的值"></a>extra 列 及常见的值</h3><p>该列包含了额外的关于MySQL执行查询的信息。  </p>
<ul>
<li><p><strong>const row not found</strong><br>对于像<code>select ... from tbl_name</code>这样的查询，该表是空的。  </p>
</li>
<li><p><strong>Deleting all rows</strong><br>对于DELETE，一些存储引擎(例如MyISAM)支持的一个处理方法简单并且快速地删除所有表行。如果引擎使用了这个优化，则Extra表的值就会显示为这个。  </p>
</li>
<li><p><strong>Distinct</strong><br>MySQL 查找不重复的值，所以，它会停止搜索当前行之后已经第一次匹配的行。  </p>
</li>
<li><p><strong>FirstMatch(tbl_name)</strong><br>它是用于表<code>tbl_name</code>的 semi-join FirstMatch策略的缩写  </p>
</li>
<li><p><strong>Full scan on NULL key</strong><br>这出现在当优化器不能使用索引来优化子查询时的一个备用策略。  </p>
</li>
<li><p><strong>Impossible HAVING</strong><br>HAVING子句总是为false并且不能检索到任何行。  </p>
</li>
<li><p><strong>Impossible WHERE</strong><br>WHERE子句总是为false并且不能检索到任何行。  </p>
</li>
<li><p><strong>Impossible WHERE noticed after reading const tables</strong><br>MySQL 已经读取了所有const(和system)表，并且注意到WHERE子句总是为false.  </p>
</li>
<li><p><strong>LooseScan(m…n)</strong><br>semi-join LooseScan策略被使用。m和n是索引部分的数字。  </p>
</li>
<li><p><strong>Materialize, Scan</strong><br>在MySQL 5.6.7 之前，这表明使用了一个独立的物化临时表。如果Scan出现，表示临时表索引没有用于读取表。否则，表示使用了索引来查找。同样也看Start materialize<br>在 MySQL 5.6.7 中，物化说明行的select_type列值为MATERIALIZED，并且行的table表是一个值为<subqueryn>  </subqueryn></p>
</li>
<li><p><strong>No matching min/max row</strong><br>对于类似select min(…) from … where condition这样的查询没有满足条件的行。  </p>
</li>
<li><p><strong>no matching row in const table</strong><br>对于一个连接查询，有一个空表或者一个没有满足唯一索引条件的行的表。  </p>
</li>
<li><p><strong>No matching rows after partition pruning</strong><br>对于DELETE或者UPDATE，优化器发现进行分区调整时发现没有数据可以删除或者更新。这类似于select语句的Impossible WHERE  </p>
</li>
<li><p><strong>No tables used</strong><br>　　查询没有from子句，或者有一个from dual子句。<br>　　对于INSERT或者REPLACE语句，当没有select部分时explain就会显示这个值。例如， 它会出现在explain insert into t values(10)，因为它等效于explain insert into t select 10 from dual.  </p>
</li>
<li><p><strong>Not exists</strong><br>　　MySQL能够在进行left join查询优化，在它发现匹配LEFT JOIN 标准一行数之后不会对于之前的行组合中在该表上检查更多的行。这有一个使用该优化的查询例子：  <code>select * from t1 left join t2 on t1.id = t2.id where t2.id is null</code><br>　　假设t2.id是定义为NOT NULL的。在这种情况下，MySQL扫描t1并使用t1.id的值查找t2的行。如果MySQL发现在t2中有匹配的行，它知道t2.id能够永不为NULL，并且不会扫描t2中具有相同id值的剩余的行。换句话说，对于每一个t1的行，MySQL只需要在t2中进行一次查找，而不管在t2中实际有多少匹配的行。  </p>
</li>
<li><p><strong>Using filesort</strong><br>　　MySQL 必须做一些额外的工作去决定如何检索的行进行排序。排序是通过根据连接类型所筛选的所有行然后保存要排序的键和这些所有经过WHERE子句筛选的所有行的指针来完成的。<br>　　这些排序键将被保存然后按排序的顺序来检索行数据。  </p>
</li>
<li><p><strong>Using where</strong><br>　　使用了WHERE从句来限制哪些行将与下一张表匹配或者是返回给用户。如果不想返回表中的全部行，并且连接类型ALL或index，这就会发生，或者是查询有问题  </p>
</li>
<li><p><strong>Using index</strong><br>从表中检索的列信息只需从索引信息中获取，而不用经过额外的访问实际的表数据来寻找。这个策略</p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;id-列&quot;&gt;&lt;a href=&quot;#id-列&quot; class=&quot;headerlink&quot; title=&quot;id 列&quot;&gt;&lt;/a&gt;id 列&lt;/h3&gt;&lt;p&gt;　　从ID列可以判断SQL的执行顺序：从大到小，如果ID相同，就从上到下执行。如果行引用联合结果的其他行，那么它的值可能为N
    
    </summary>
    
      <category term="MySQL" scheme="http://yoursite.com/categories/MySQL/"/>
    
    
      <category term="MySQL" scheme="http://yoursite.com/tags/MySQL/"/>
    
  </entry>
  
</feed>
